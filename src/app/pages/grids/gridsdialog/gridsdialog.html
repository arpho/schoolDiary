<ion-header [translucent]="true">
  <ion-toolbar mode="ios">
    <ion-buttons slot="start">
      <ion-back-button defaulthref="/grids-list"></ion-back-button>
    </ion-buttons>
    <ion-title>{{pageTitle}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form formgroup="gridForm">
    <ion-item>
      <ion-label position="floating">Descrizione</ion-label>
      <ion-textarea formcontrolname="descrizione" (change)="onDescrizioneChange($event)"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Nome</ion-label>
      <ion-input formcontrolname="nome" (change)="onNomeChange($event)"></ion-input>
    </ion-item>
    <ion-button expand="block" type="submit">Salva</ion-button>
  </form>
  <h3>Indicatori</h3>
  @if(indicatorsList().length > 0) {

  <ion-list>
    @for(indicator of indicatorsList(); track $index) {
      <ion-item (click)="selectIndicator(indicator,$index)">
    <app-indicator-viewer [indicatore]="indicator"></app-indicator-viewer>


      </ion-item>
    }
  </ion-list>
}
@else {
  <p>Non ci sono indicatori, aggiungine uno</p>
}
<ion-fab vertical="middle" horizontal="begin">
<ion-fab-button  size="small" (click)="addIndicator()">
  <ion-icon name="add"></ion-icon>
</ion-fab-button>
</ion-fab>
</ion-content>
<ion-footer>
<ion-button expand="block" (click)="storeGrid()"><ion-icon name="save"></ion-icon>salva griglia</ion-button>
</ion-footer>

